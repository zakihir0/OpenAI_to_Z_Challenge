# RAG知識ベースシステム - 考古学研究支援

## 概要
Retrieval-Augmented Generation (RAG) システムを使用した考古学知識ベースの実装です。アマゾン流域の既知遺跡情報と専門知識を統合し、新規遺跡発見を支援します。

## 主要技術

### 1. ベクトル埋め込み技術
- **OpenAI text-embedding-3-large**: 高精度な意味的類似性計算
- **多言語対応**: 英語、スペイン語、ポルトガル語の考古学文献に対応
- **階層的クラスタリング**: 類似遺跡の自動グループ化

### 2. 知識ベース構築
- **包括的遺跡データベース**: アマゾン流域の158の既知遺跡情報
- **文化的コンテキスト**: インカ、チャチャポヤス、モホス文化等の詳細データ
- **時代分類**: 先コロンブス期から現代までの時系列情報

### 3. 検索拡張生成
- **コンテキスト検索**: 類似性スコアに基づく関連情報の自動抽出
- **専門知識統合**: 考古学専門家の知見を組み込んだ分析
- **仮説生成**: 既知パターンから新規遺跡の特徴を予測

## アーキテクチャ

### データストレージ
- **インメモリベクトルストア**: 高速な類似性検索
- **ChromaDB統合**: 永続化とスケーラブルな検索
- **メタデータフィルタリング**: 地域、文化、時代による絞り込み

### 検索最適化
- **ハイブリッド検索**: キーワード検索とベクトル検索の組み合わせ
- **ランキングアルゴリズム**: 複数スコアの重み付け統合
- **クエリ拡張**: 同義語と関連概念による検索範囲拡大

## 考古学的応用

### 1. 遺跡分類支援
- **文化的所属推定**: 既知遺跡との類似性による文化分類
- **機能推定**: 儀式的・居住的・軍事的用途の判定
- **時代推定**: 考古学的特徴による年代推定

### 2. 発掘優先度評価
- **学術的重要性**: 未解明文化への貢献度評価
- **保存緊急度**: 環境脅威による保護優先度
- **アクセス可能性**: 調査実行の現実的評価

## 使用方法
```python
from rag_knowledge_base import ArchaeologicalRAG

rag = ArchaeologicalRAG()
rag.build_knowledge_base()
analysis = rag.analyze_site_features([
    "circular earthworks",
    "elevated platforms", 
    "water management"
])
```